!function(e){"use strict";var a=e(".page-body"),t=e(".header"),s=e(".header .overlay-panel"),i=e(".header .mobile-menu"),n=e(".header .mobile-menu-panel"),r=e(".header .mobile-menu-panel-trigger"),o=e(".header .enquiry-form"),l=e(".header .enquiry-panel"),d=e(".header .enquiry-panel-trigger"),c=e(".header .search-panel"),h=e(".header .search-panel-trigger"),u=e(".header .search-panel .search-panel-trigger-close"),p=e(".header .search-panel .search-input"),f=e(".header .nav-has-sub-menu"),m=e(".header .header-sub-nav"),b=e(".sidebar"),v=e(".sidebar-menu"),g=e("select.resize-select"),C=e("body"),w=e(window);function y(){var a=e("#wpadminbar").is(":visible")?e("#wpadminbar").outerHeight():0;if(e("html").css({"scroll-behavior":"initial"}),C.hasClass("disable-scroll")&&null==C.attr("data-offset-top")&&!C.hasClass("dont-disable-scroll")){var t=w.scrollTop()-a;C.attr("data-offset-top",t).css({position:"fixed",width:"100%",top:-t+"px"})}else if(!C.hasClass("disable-scroll")&&null!=C.attr("data-offset-top")){var s=C.attr("data-offset-top")?C.attr("data-offset-top"):0;C.removeAttr("data-offset-top").removeAttr("style"),w.scrollTop(s)}e("html").css({"scroll-behavior":""})}function k(){var a=e("#wpadminbar").is(":visible")?e("#wpadminbar").outerHeight():0,i=(t.find(".header-top").is(":visible")?t.find(".header-top").outerHeight():0)+(t.find(".header-middle").is(":visible")?t.find(".header-middle").outerHeight():0)+(t.find(".header-bottom").is(":visible")?t.find(".header-bottom").outerHeight():0);s.css({"padding-top":i+a+"px"})}function x(a){var t=e(a).children("ul.sub-menu"),s=t.width();e(a).offset().left>w.width()-(s+50)?t.addClass("align-right"):t.removeClass("align-right"),e(a).addClass("sub-menu-open")}function T(a){e(a).removeClass("sub-menu-open")}function D(){!1===C.hasClass("is-overlay")&&C.addClass("is-overlay disable-scroll")}function F(){if(!0===C.hasClass("is-overlay")){var e=s.attr("data-transition-delay")?1e3*parseFloat(s.attr("data-transition-delay")):0;setTimeout((function(){C.removeClass("is-overlay disable-scroll")}),e)}}function H(){var a=1e3*parseFloat(n.css("transitionDuration"));r.removeClass("open"),r.find(".label-swapper").removeClass("swap"),C.removeClass("is-mobile-menu disable-scroll"),setTimeout((function(){r.hasClass("open")||(i.removeClass("in-view"),i.find(".menu-item-has-children").removeClass("sub-menu-open").find(".toggle-sub-menu").removeClass("open").find(".screen-reader-text").text("Expand sub menu"),i.find(".sub-menu").slideUp().attr("aria-hidden","true"),i.find("ul.menu > li").each((function(){e(this).removeClass("in-view").css({"transition-delay":""})})))}),a)}function E(){var e=1e3*parseFloat(l.css("transitionDuration"));d.removeClass("open"),d.find(".label-swapper").removeClass("swap"),C.removeClass("is-enquiry disable-scroll"),setTimeout((function(){o.removeClass("in-view")}),e)}function q(){h.removeClass("open"),h.find(".label-swapper").removeClass("swap"),C.removeClass("is-search")}function z(a){var t=".menu-item-has-children",s=".sub-menu";!0===e(a).siblings(s).is(":hidden")?(console.log("test"),e(a).addClass("open").children(".screen-reader-text").text("Collapse sub menu"),e(a).parent(t).addClass("sub-menu-open").children(s).slideDown().attr("aria-hidden","false"),!0===e(a).parent(t).siblings().hasClass("sub-menu-open")&&e(a).parent(t).siblings().each((function(){e(this).removeClass("sub-menu-open").children(".toggle-sub-menu").removeClass("open").find(".screen-reader-text").text("Expand sub menu"),e(this).find(t).removeClass("sub-menu-open").children(".toggle-sub-menu").removeClass("open").find(".screen-reader-text").text("Expand sub menu"),e(this).find(s).slideUp().attr("aria-hidden","true")}))):!1===e(a).siblings(s).is(":hidden")&&(e(a).removeClass("open").children(".screen-reader-text").text("Expand sub menu"),e(a).parent(t).removeClass("sub-menu-open").find(t).removeClass("sub-menu-open").find(".toggle-sub-menu").removeClass("open").find(".screen-reader-text").text("Expand sub menu"),e(a).parent(t).find(s).slideUp().attr("aria-hidden","true"))}function A(){C.addClass("disable-transitions"),setTimeout((function(){C.removeClass("disable-transitions")}),100)}function U(){g.each((function(){var a=e(this).attr("class").replace("resize-select",""),t=e(this).find("option:selected").text(),s=e("<span>").html(t).addClass("temp-select-styles").addClass(a);s.appendTo("body");var i=s.width()+4;s.remove(),e(this).width(i)}))}function M(){var a=b.attr("data-offset-top")?b.attr("data-offset-top"):0,s=b.attr("data-offset-bottom")?b.attr("data-offset-bottom"):0;0!=a&&0==s&&(s=a),0!=s&&0==a&&(a=s);var i=e("#wpadminbar").is(":visible")?e("#wpadminbar").outerHeight():0,n=t.height()+parseFloat(a),r=w.height()-parseFloat(s)-n,o=n+i;b.outerHeight()<=r?b.addClass("is-sticky").css({top:o+"px"}):b.removeClass("is-sticky").removeAttr("style")}function P(){var e=C.attr("data-offset-top");(e||w.scrollTop())>=t.outerHeight()?t.addClass("header-scrolled"):t.removeClass("header-scrolled")}function _(s){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(location.pathname.replace(/^\//,"")==s.pathname.replace(/^\//,"")&&location.hostname==s.hostname){var r=s.hash.slice(1),o=e(s.hash),l=o.length?o:e("[name="+r+"]");if(l.length&&a.find(l).length){var d=e("#wpadminbar").is(":visible")?e("#wpadminbar").outerHeight():0,c=parseFloat(l.css("marginTop")),h=l.offset().top-c,u=t.outerHeight(),p=Math.ceil(h-u-d),f=w.scrollTop(),m=Math.abs(p-f),b=500;m>2500?b=Math.ceil(m/3):m>1200?b=Math.ceil(m/2):0==m&&(b=0),n&&n.preventDefault(),e("html").css({"scroll-behavior":"initial"}),e(s).trigger("blur"),e("html,body").animate({scrollTop:p},b),setTimeout((function(){e(l).trigger("focus"),e(l).is(":focus")||e(l).attr("tabindex","-1").trigger("focus"),e("html,body").scrollTop(p),e(l).removeAttr("tabindex"),e("html").css({"scroll-behavior":""}),!0===i&&history.replaceState(void 0,void 0,"#"+r)}),b+10)}}}function j(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(a||t){if(a&&t){var i=t.find(".orgnk-tab-trigger"),n=t.find(".orgnk-tab-target"),r=t.find(".orgnk-tabs-content-area"),o=e(a),l=o.attr("tab-target"),d=t.find(r).find("#"+l),c="true"===t.attr("data-tabs-accordion"),h=t.attr("data-tabs-accordion-breakpoint")?parseFloat(t.attr("data-tabs-accordion-breakpoint")):1024;"hidden"===d.css("visibility")?(i.removeClass("active").attr("aria-expanded","false").attr("disabled",!1),o.addClass("active").attr("aria-expanded","true").attr("disabled",!1),n.removeClass("active").attr("aria-hidden","true"),d.addClass("active").attr("aria-hidden","false"),c&&w.width()<h?(n.each((function(){e(this).slideUp(s,(function(){setTimeout((function(){e(this).css({display:""})}),s)}))})),d.slideDown(s)):n.not(d).css({display:""}),Q(t,d,h,s)):(c&&w.width()<h&&(i.removeClass("active").attr("aria-expanded","false").attr("disabled",!1),o.removeClass("active").attr("aria-expanded","true").attr("disabled",!1),n.removeClass("active").attr("aria-hidden","true"),d.removeClass("active").attr("aria-hidden","true"),n.each((function(){e(this).slideUp(s,(function(){setTimeout((function(){e(this).css({display:""})}),s)}))}))),Q(t,d,h,s)),Q(t,d,h,s)}}else e(".orgnk-tabs").each((function(){var a=e(this).find(".orgnk-tab-trigger"),t=e(this).find(".orgnk-tab-target"),i=e(this).find(".orgnk-tabs-content-area"),n=e(this).find(".orgnk-tab-trigger.active"),r=n.length?n:a.first(),o=r.attr("tab-target"),l=i.find("#"+o),d="false"!==e(this).attr("data-tabs-default-open"),c="true"===e(this).attr("data-tabs-accordion"),h=e(this).attr("data-tabs-accordion-breakpoint")?parseFloat(e(this).attr("data-tabs-accordion-breakpoint")):1024;d&&(r.addClass("active").attr("aria-expanded","true").attr("disabled",!1),l.addClass("active").attr("aria-hidden","false")),d&&c&&w.width()<h?l.show():t.css({display:""}),Q(this,l,h,s),e(this).hasClass("tabs-initialized")||e(this).addClass("tabs-initialized")}))}function Q(a,t,s,i){var n=e(a).find(".orgnk-tab-target"),r=e(a).find(".orgnk-tabs-content-area"),o="true"===e(a).attr("data-tabs-accordion"),l=0;o?(n.each((function(){e(this).height()>l&&(l=e(this).outerHeight())})),l>0&&w.width()>=s?r.css({"min-height":l+"px"}):r.css({"min-height":""})):(l=t.outerHeight(),i>0?r.animate({"min-height":l+"px"},i):r.css({"min-height":l+"px"}))}g.on("change",U),r.on("click ",(function(a){var t,s;a.cancelable&&a.preventDefault(),!1===e(this).hasClass("open")?(!0===h.hasClass("open")&&q(),!0===d.hasClass("open")&&E(),t=i.find("ul.menu > li").css("transitionDuration")?parseFloat(i.find("ul.menu > li").css("transitionDuration")):0,s=i.attr("data-transition-delay")?parseFloat(i.attr("data-transition-delay")):0,r.addClass("open"),r.find(".label-swapper").addClass("swap"),C.addClass("is-mobile-menu disable-scroll"),i.addClass("in-view"),i.find("ul.menu > li").each((function(a){e(this).addClass("in-view"),t&&s&&e(this).css({"transition-delay":s*(1+a)+t+"s"})})),D()):!0===e(this).hasClass("open")&&(H(),F()),y()})),d.add(e('a[href="#enquiry-form"]')).on("click",(function(a){console.log("test"),a.cancelable&&a.preventDefault(),!1===e(this).hasClass("open")?(!0===r.hasClass("open")&&H(),!0===h.hasClass("open")&&q(),function(){d.addClass("open"),d.find(".label-swapper").addClass("swap"),C.addClass("is-enquiry disable-scroll"),o.addClass("in-view");var a=1e3*parseFloat(o.css("transitionDelay"))+50;setTimeout((function(){o.attr("tabindex","-1").trigger("focus").removeAttr("tabindex")}),a),e(document).trigger("orgnk.openEnquiryPanel")}(),D()):!0===e(this).hasClass("open")&&(E(),F()),y()})),h.on("click",(function(a){a.cancelable&&a.preventDefault(),!1===e(this).hasClass("open")?(!0===r.hasClass("open")&&(H(),F()),!0===d.hasClass("open")&&(E(),F()),h.addClass("open"),h.find(".label-swapper").addClass("swap"),C.addClass("is-search"),setTimeout((function(){p.trigger("focus")}),100)):!0===e(this).hasClass("open")&&q(),y()})),u.on("click",(function(e){e.cancelable&&e.preventDefault(),!0===h.hasClass("open")&&q()})),f.each((function(){e(this).find("li.menu-item-has-children").on("mouseenter",(function(){var e=this;setTimeout((function(){x(e)}),10)})).on("mouseleave",(function(){T(this)})),e(this).find("li.menu-item-has-children a").on("focus",(function(){e(this).parents("li.menu-item-has-children").last().each((function(){x(this)}))})).on("blur",(function(){var a=this;setTimeout((function(){e(a).parents("li.menu-item-has-children").last().each((function(){0==e(this).find(":focus").length&&T(this)}))}),10)}))})),i.on("click",".toggle-sub-menu",(function(){z(this)})),v.on("click",".toggle-sub-menu",(function(){z(this)})),m.on("click",".toggle-sub-menu",(function(){z(this)})),e("a.skip-to").on("click",(function(e){_(this,!1,e)})),e('a[href*="#"]').not('[href="#"]').not('[href="#0"]').on("click",(function(a){e(this).hasClass("skip-to")||_(this,!0,a)})),e(".orgnk-tabs .orgnk-tab-trigger").on("click",(function(){var a=e(this).parents(".orgnk-tabs"),t=a.attr("data-tabs-transition")?parseFloat(a.attr("data-tabs-transition")):300;j(this,a,t)})),e(".video-modal-trigger").modaal({type:"video",overlay_opacity:1,background:"",custom_class:"video-modal"}),e(document).on("click",(function(a){a.stopPropagation();var t=e(a.target);t.closest(c).length||t.closest(h).length||h.hasClass("open")&&q()})),w.on("keydown",(function(e){C.hasClass("is-mobile-menu")&&"Escape"==e.key&&(H(),F(),y()),C.hasClass("is-enquiry")&&"Escape"==e.key&&(E(),F(),y()),C.hasClass("is-search")&&"Escape"==e.key&&q()})),w.on("resize",(function(){var e=t.attr("data-header-breakpoint")?t.attr("data-header-breakpoint"):1200;w.width()>e&&!0===r.hasClass("open")&&(H(),F(),y());var a=m.attr("data-sub-nav-breakpoint")?m.attr("data-sub-nav-breakpoint"):768;w.width()>a&&!0===m.hasClass("mobile-dropdown")&&(m.find(".sub-menu").css("display",""),m.find(".menu-item-has-children").removeClass("sub-menu-open"),m.find(".toggle-sub-menu").removeClass("open")),k(),U(),M(),j()})),w.on("scroll",(function(){P()})),w.on("pageshow",(function(e){e.originalEvent.persisted&&(A(),k(),H(),E(),q(),F(),y(),U(),P(),j())})),e(document).ready((function(){var a,t;e("p:empty").remove(),function(){if(e(".entry-has-contents-table").length){var a=[],t=e('<ul class="toc-list">');e(".editor-content").find("h2").each((function(t,s){t+=1,e(s).attr("id","toc-section-"+t),a.push(e(s).html())})),e(a).each((function(e,a){e+=1,t.append('<li><a class="contents-link" href="#toc-section-'+e+'">'+a+"</a></li>")})),e(".entry-contents-table").append(t[0]),e(".contents-link").on("click",(function(a){e(this).hasClass("skip-to")||_(this,!0,a)}))}}(),A(),k(),a=".menu-item-has-children",i.find(a).children(".sub-menu").hide().attr("aria-hidden","true"),i.find(a).each((function(){e(this).children("a").attr("aria-haspopup","true").after('<button class="toggle-sub-menu"><i class="icon" aria-hidden="true"></i><span class="screen-reader-text">Expand sub menu</span></button>')})),t=".sub-menu",v.find(".menu-item-has-children").children(t).hide().attr("aria-hidden","true"),v.find("li").each((function(){(e(this).hasClass("current-page-ancestor")||e(this).hasClass("current-menu-item")&&e(this).hasClass("menu-item-has-children"))&&e(this).addClass("sub-menu-open").children(".toggle-sub-menu").addClass("open").siblings(t).show()})),U(),M(),P(),j(),window.location.hash&&_(window.location,!0)}))}(jQuery);